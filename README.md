# rplaylist

`rplaylist` uses a Markov chain generated from the user's Last.fm listening history to create playlists with subjectively pleasing "flow" from track to track.
For example, if the listening history often has albums played fully, the generated playlist will tend to do the same. 
Similarly, if a song is often played on repeat, the generated playlist will likely reflect this.

## Usage

```
USAGE:
    rplaylist.exe [FLAGS] [OPTIONS] <INPUT>

FLAGS:
    -h, --help       Prints help information
    -V, --version    Prints version information
    -v, --verbose    Prints verbose information on song probabilities. Useful for fine-tuning creativity

OPTIONS:
    -c, --creativity <CREATIVITY>    Sets the playlist generation creativity
    -l, --length <LENGTH>            Sets the number of songs in the generated playlist

ARGS:
    <INPUT>    Sets the input file to use
```

If creativity or length are not specified they will default to 0 and 20, respectively.

The creativity value increases the chance that uncommon next songs will be generated by the Markov chain. The ideal creativity value varies by the user's listening history and playlist preferences, but values between 0 and 2 will usually give a good result.

### Sample Execution

```
rplaylist.exe -c 0.5 -l 15 scrobbles.csv
1.      Mitski - Me and My Husband
2.      Mitski - Come into the Water
3.      Mitski - Nobody
4.      Mitski - Pink in the Night
5.      The Japanese House - Something Has to Change
6.      The Japanese House - Something Has to Change
7.      Porter Robinson - Divinity (feat. Amy Millan)
8.      Porter Robinson - Sad Machine
9.      Porter Robinson - Years of War (feat. Breanne Duren & Sean Caskey)
10.     Tiffi - drive by
11.     The Jimi Hendrix Experience - Little Wing
12.     The Flaming Lips - Yoshimi Battles the Pink Robots, Part 1
13.     Francis and the Lights - May I Have This Dance (Remix) [feat. Chance the Rapper]
14.     Love and Rockets - If There's a Heaven Above
15.     Love and Rockets - A Private Future
```

## Getting Input Data

The user's listening history is read from a .csv file that can be generated at https://mainstream.ghan.nl/export.html.

## Compilation

The program can be compiled by running `cargo build --release` from the project root directory.